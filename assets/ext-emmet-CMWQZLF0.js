import{a0 as q}from"./theme-terminal-ylQyTtHj.js";function ee(A,B){for(var y=0;y<B.length;y++){const m=B[y];if(typeof m!="string"&&!Array.isArray(m)){for(const $ in m)if($!=="default"&&!($ in A)){const L=Object.getOwnPropertyDescriptor(m,$);L&&Object.defineProperty(A,$,L.get?L:{enumerable:!0,get:()=>m[$]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}var W={exports:{}},G;function te(){return G||(G=1,function(A,B){ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(y,m,$){var L=y("./lib/dom"),D=y("./lib/oop"),K=y("./lib/event_emitter").EventEmitter,H=y("./lib/lang"),N=y("./range").Range,E=y("./range_list").RangeList,O=y("./keyboard/hash_handler").HashHandler,U=y("./tokenizer").Tokenizer,P=y("./clipboard"),R={CURRENT_WORD:function(i){return i.session.getTextRange(i.session.getWordRange())},SELECTION:function(i,e,t){var a=i.session.getTextRange();return t?a.replace(/\n\r?([ \t]*\S)/g,`
`+t+"$1"):a},CURRENT_LINE:function(i){return i.session.getLine(i.getCursorPosition().row)},PREV_LINE:function(i){return i.session.getLine(i.getCursorPosition().row-1)},LINE_INDEX:function(i){return i.getCursorPosition().row},LINE_NUMBER:function(i){return i.getCursorPosition().row+1},SOFT_TABS:function(i){return i.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(i){return i.session.getTabSize()},CLIPBOARD:function(i){return P.getText&&P.getText()},FILENAME:function(i){return/[^/\\]*$/.exec(this.FILEPATH(i))[0]},FILENAME_BASE:function(i){return/[^/\\]*$/.exec(this.FILEPATH(i))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(i){return this.FILEPATH(i).replace(/[^/\\]*$/,"")},FILEPATH:function(i){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(i){var e=i.session.$mode||{};return e.blockComment&&e.blockComment.start||""},BLOCK_COMMENT_END:function(i){var e=i.session.$mode||{};return e.blockComment&&e.blockComment.end||""},LINE_COMMENT:function(i){var e=i.session.$mode||{};return e.lineCommentStart||""},CURRENT_YEAR:S.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:S.bind(null,{year:"2-digit"}),CURRENT_MONTH:S.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:S.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:S.bind(null,{month:"short"}),CURRENT_DATE:S.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:S.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:S.bind(null,{weekday:"short"}),CURRENT_HOUR:S.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:S.bind(null,{minute:"2-digit"}),CURRENT_SECOND:S.bind(null,{second:"2-digit"})};R.SELECTED_TEXT=R.SELECTION;function S(i){var e=new Date().toLocaleString("en-us",i);return e.length==1?"0"+e:e}var F=function(){function i(){this.snippetMap={},this.snippetNameMap={},this.variables=R}return i.prototype.getTokenizer=function(){return i.$tokenizer||this.createTokenizer()},i.prototype.createTokenizer=function(){function e(r){return r=r.substr(1),/^\d+$/.test(r)?[{tabstopId:parseInt(r,10)}]:[{text:r}]}function t(r){return"(?:[^\\\\"+r+"]|\\\\.)"}var a={regex:"/("+t("/")+"+)/",onMatch:function(r,o,c){var n=c[0];return n.fmtString=!0,n.guard=r.slice(1,-1),n.flag="",""},next:"formatString"};return i.$tokenizer=new U({start:[{regex:/\\./,onMatch:function(r,o,c){var n=r[1];return(n=="}"&&c.length||"`$\\".indexOf(n)!=-1)&&(r=n),[r]}},{regex:/}/,onMatch:function(r,o,c){return[c.length?c.shift():r]}},{regex:/\$(?:\d+|\w+)/,onMatch:e},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(r,o,c){var n=e(r.substr(1));return c.unshift(n[0]),n},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+t("\\|")+"*\\|",onMatch:function(r,o,c){var n=r.slice(1,-1).replace(/\\[,|\\]|,/g,function(p){return p.length==2?p[1]:"\0"}).split("\0").map(function(p){return{value:p}});return c[0].choices=n,[n[0]]},next:"start"},a,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(r,o,c){return c.length&&c[0].expectElse?(c[0].expectElse=!1,c[0].ifEnd={elseEnd:c[0]},[c[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(r,o,c){var n=r[1];return n=="}"&&c.length||"`$\\".indexOf(n)!=-1?r=n:n=="n"?r=`
`:n=="t"?r="	":"ulULE".indexOf(n)!=-1&&(r={changeCase:n,local:n>"a"}),[r]}},{regex:"/\\w*}",onMatch:function(r,o,c){var n=c.shift();return n&&(n.flag=r.slice(1,-1)),this.next=n&&n.tabstopId?"start":"",[n||r]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(r,o,c){return[{text:r.slice(1)}]}},{regex:/\${\w+/,onMatch:function(r,o,c){var n={text:r.slice(2)};return c.unshift(n),[n]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(r,o,c){var n=c.shift();return this.next=n&&n.tabstopId?"start":"",[n||r]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(r,o,c){var n=c[0];return n.formatFunction=r.slice(2,-1),[c.shift()]},next:"formatString"},a,{regex:/:[\?\-+]?/,onMatch:function(r,o,c){r[1]=="+"&&(c[0].ifEnd=c[0]),r[1]=="?"&&(c[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),i.$tokenizer},i.prototype.tokenizeTmSnippet=function(e,t){return this.getTokenizer().getLineTokens(e,t).tokens.map(function(a){return a.value||a})},i.prototype.getVariableValue=function(e,t,a){if(/^\d+$/.test(t))return(this.variables.__||{})[t]||"";if(/^[A-Z]\d+$/.test(t))return(this.variables[t[0]+"__"]||{})[t.substr(1)]||"";if(t=t.replace(/^TM_/,""),!this.variables.hasOwnProperty(t))return"";var r=this.variables[t];return typeof r=="function"&&(r=this.variables[t](e,t,a)),r??""},i.prototype.tmStrFormat=function(e,t,a){if(!t.fmt)return e;var r=t.flag||"",o=t.guard;o=new RegExp(o,r.replace(/[^gim]/g,""));var c=typeof t.fmt=="string"?this.tokenizeTmSnippet(t.fmt,"formatString"):t.fmt,n=this,p=e.replace(o,function(){var s=n.variables.__;n.variables.__=[].slice.call(arguments);for(var d=n.resolveVariables(c,a),v="E",u=0;u<d.length;u++){var x=d[u];if(typeof x=="object")if(d[u]="",x.changeCase&&x.local){var T=d[u+1];T&&typeof T=="string"&&(x.changeCase=="u"?d[u]=T[0].toUpperCase():d[u]=T[0].toLowerCase(),d[u+1]=T.substr(1))}else x.changeCase&&(v=x.changeCase);else v=="U"?d[u]=x.toUpperCase():v=="L"&&(d[u]=x.toLowerCase())}return n.variables.__=s,d.join("")});return p},i.prototype.tmFormatFunction=function(e,t,a){return t.formatFunction=="upcase"?e.toUpperCase():t.formatFunction=="downcase"?e.toLowerCase():e},i.prototype.resolveVariables=function(e,t){for(var a=[],r="",o=!0,c=0;c<e.length;c++){var n=e[c];if(typeof n=="string"){a.push(n),n==`
`?(o=!0,r=""):o&&(r=/^\t*/.exec(n)[0],o=/\S/.test(n));continue}if(n){if(o=!1,n.fmtString){var p=e.indexOf(n,c+1);p==-1&&(p=e.length),n.fmt=e.slice(c+1,p),c=p}if(n.text){var s=this.getVariableValue(t,n.text,r)+"";n.fmtString&&(s=this.tmStrFormat(s,n,t)),n.formatFunction&&(s=this.tmFormatFunction(s,n,t)),s&&!n.ifEnd?(a.push(s),d(n)):!s&&n.ifEnd&&d(n.ifEnd)}else n.elseEnd?d(n.elseEnd):(n.tabstopId!=null||n.changeCase!=null)&&a.push(n)}}function d(v){var u=e.indexOf(v,c+1);u!=-1&&(c=u)}return a},i.prototype.getDisplayTextForSnippet=function(e,t){var a=l.call(this,e,t);return a.text},i.prototype.insertSnippetForSelection=function(e,t,a){a===void 0&&(a={});var r=l.call(this,e,t,a),o=e.getSelectionRange(),c=e.session.replace(o,r.text),n=new f(e),p=e.inVirtualSelectionMode&&e.selection.index;n.addTabstops(r.tabstops,o.start,c,p)},i.prototype.insertSnippet=function(e,t,a){a===void 0&&(a={});var r=this;if(e.inVirtualSelectionMode)return r.insertSnippetForSelection(e,t,a);e.forEachSelection(function(){r.insertSnippetForSelection(e,t,a)},null,{keepOrder:!0}),e.tabstopManager&&e.tabstopManager.tabNext()},i.prototype.$getScope=function(e){var t=e.session.$mode.$id||"";if(t=t.split("/").pop(),t==="html"||t==="php"){t==="php"&&!e.session.$mode.inlinePhp&&(t="html");var a=e.getCursorPosition(),r=e.session.getState(a.row);typeof r=="object"&&(r=r[0]),r.substring&&(r.substring(0,3)=="js-"?t="javascript":r.substring(0,4)=="css-"?t="css":r.substring(0,4)=="php-"&&(t="php"))}return t},i.prototype.getActiveScopes=function(e){var t=this.$getScope(e),a=[t],r=this.snippetMap;return r[t]&&r[t].includeScopes&&a.push.apply(a,r[t].includeScopes),a.push("_"),a},i.prototype.expandWithTab=function(e,t){var a=this,r=e.forEachSelection(function(){return a.expandSnippetForSelection(e,t)},null,{keepOrder:!0});return r&&e.tabstopManager&&e.tabstopManager.tabNext(),r},i.prototype.expandSnippetForSelection=function(e,t){var a=e.getCursorPosition(),r=e.session.getLine(a.row),o=r.substring(0,a.column),c=r.substr(a.column),n=this.snippetMap,p;return this.getActiveScopes(e).some(function(s){var d=n[s];return d&&(p=this.findMatchingSnippet(d,o,c)),!!p},this),p?(t&&t.dryRun||(e.session.doc.removeInLine(a.row,a.column-p.replaceBefore.length,a.column+p.replaceAfter.length),this.variables.M__=p.matchBefore,this.variables.T__=p.matchAfter,this.insertSnippetForSelection(e,p.content),this.variables.M__=this.variables.T__=null),!0):!1},i.prototype.findMatchingSnippet=function(e,t,a){for(var r=e.length;r--;){var o=e[r];if(!(o.startRe&&!o.startRe.test(t))&&!(o.endRe&&!o.endRe.test(a))&&!(!o.startRe&&!o.endRe))return o.matchBefore=o.startRe?o.startRe.exec(t):[""],o.matchAfter=o.endRe?o.endRe.exec(a):[""],o.replaceBefore=o.triggerRe?o.triggerRe.exec(t)[0]:"",o.replaceAfter=o.endTriggerRe?o.endTriggerRe.exec(a)[0]:"",o}},i.prototype.register=function(e,t){var a=this.snippetMap,r=this.snippetNameMap,o=this;e||(e=[]);function c(s){return s&&!/^\^?\(.*\)\$?$|^\\b$/.test(s)&&(s="(?:"+s+")"),s||""}function n(s,d,v){return s=c(s),d=c(d),s=d+s,s&&s[s.length-1]!="$"&&(s=s+"$"),new RegExp(s)}function p(s){s.scope||(s.scope=t||"_"),t=s.scope,a[t]||(a[t]=[],r[t]={});var d=r[t];if(s.name){var v=d[s.name];v&&o.unregister(v),d[s.name]=s}a[t].push(s),s.prefix&&(s.tabTrigger=s.prefix),!s.content&&s.body&&(s.content=Array.isArray(s.body)?s.body.join(`
`):s.body),s.tabTrigger&&!s.trigger&&(!s.guard&&/^\w/.test(s.tabTrigger)&&(s.guard="\\b"),s.trigger=H.escapeRegExp(s.tabTrigger)),!(!s.trigger&&!s.guard&&!s.endTrigger&&!s.endGuard)&&(s.startRe=n(s.trigger,s.guard),s.triggerRe=new RegExp(s.trigger),s.endRe=n(s.endTrigger,s.endGuard),s.endTriggerRe=new RegExp(s.endTrigger))}Array.isArray(e)?e.forEach(p):Object.keys(e).forEach(function(s){p(e[s])}),this._signal("registerSnippets",{scope:t})},i.prototype.unregister=function(e,t){var a=this.snippetMap,r=this.snippetNameMap;function o(c){var n=r[c.scope||t];if(n&&n[c.name]){delete n[c.name];var p=a[c.scope||t],s=p&&p.indexOf(c);s>=0&&p.splice(s,1)}}e.content?o(e):Array.isArray(e)&&e.forEach(o)},i.prototype.parseSnippetFile=function(e){e=e.replace(/\r/g,"");for(var t=[],a={},r=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,o;o=r.exec(e);){if(o[1])try{a=JSON.parse(o[1]),t.push(a)}catch{}if(o[4])a.content=o[4].replace(/^\t/gm,""),t.push(a),a={};else{var c=o[2],n=o[3];if(c=="regex"){var p=/\/((?:[^\/\\]|\\.)*)|$/g;a.guard=p.exec(n)[1],a.trigger=p.exec(n)[1],a.endTrigger=p.exec(n)[1],a.endGuard=p.exec(n)[1]}else c=="snippet"?(a.tabTrigger=n.match(/^\S*/)[0],a.name||(a.name=n)):c&&(a[c]=n)}}return t},i.prototype.getSnippetByName=function(e,t){var a=this.snippetNameMap,r;return this.getActiveScopes(t).some(function(o){var c=a[o];return c&&(r=c[e]),!!r},this),r},i}();D.implement(F.prototype,K);var l=function(i,e,t){t===void 0&&(t={});var a=i.getCursorPosition(),r=i.session.getLine(a.row),o=i.session.getTabString(),c=r.match(/^\s*/)[0];a.column<c.length&&(c=c.slice(0,a.column)),e=e.replace(/\r/g,"");var n=this.tokenizeTmSnippet(e);n=this.resolveVariables(n,i),n=n.map(function(b){return b==`
`&&!t.excludeExtraIndent?b+c:typeof b=="string"?b.replace(/\t/g,o):b});var p=[];n.forEach(function(b,w){if(typeof b=="object"){var k=b.tabstopId,_=p[k];if(_||(_=p[k]=[],_.index=k,_.value="",_.parents={}),_.indexOf(b)===-1){b.choices&&!_.choices&&(_.choices=b.choices),_.push(b);var z=n.indexOf(b,w+1);if(z!==-1){var j=n.slice(w+1,z),J=j.some(function(Q){return typeof Q=="object"});J&&!_.value?_.value=j:j.length&&(!_.value||typeof _.value!="string")&&(_.value=j.join(""))}}}}),p.forEach(function(b){b.length=0});var s={};function d(b){for(var w=[],k=0;k<b.length;k++){var _=b[k];if(typeof _=="object"){if(s[_.tabstopId])continue;var z=b.lastIndexOf(_,k-1);_=w[z]||{tabstopId:_.tabstopId}}w[k]=_}return w}for(var v=0;v<n.length;v++){var u=n[v];if(typeof u=="object"){var x=u.tabstopId,T=p[x],C=n.indexOf(u,v+1);if(s[x]){s[x]===u&&(delete s[x],Object.keys(s).forEach(function(b){T.parents[b]=!0}));continue}s[x]=u;var I=T.value;typeof I!="string"?I=d(I):u.fmt&&(I=this.tmStrFormat(I,u,i)),n.splice.apply(n,[v+1,Math.max(0,C-v)].concat(I,u)),T.indexOf(u)===-1&&T.push(u)}}var Y=0,V=0,Z="";return n.forEach(function(b){if(typeof b=="string"){var w=b.split(`
`);w.length>1?(V=w[w.length-1].length,Y+=w.length-1):V+=b.length,Z+=b}else b&&(b.start?b.end={row:Y,column:V}:b.start={row:Y,column:V})}),{text:Z,tabstops:p,tokens:n}},f=function(){function i(e){if(this.index=0,this.ranges=[],this.tabstops=[],e.tabstopManager)return e.tabstopManager;e.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=H.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(e)}return i.prototype.attach=function(e){this.$openTabstops=null,this.selectedTabstop=null,this.editor=e,this.session=e.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},i.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},i.prototype.onChange=function(e){for(var t=e.action[0]=="r",a=this.selectedTabstop||{},r=a.parents||{},o=this.tabstops.slice(),c=0;c<o.length;c++){var n=o[c],p=n==a||r[n.index];if(n.rangeList.$bias=p?0:1,e.action=="remove"&&n!==a){var s=n.parents&&n.parents[a.index],d=n.rangeList.pointIndex(e.start,s);d=d<0?-d-1:d+1;var v=n.rangeList.pointIndex(e.end,s);v=v<0?-v-1:v-1;for(var u=n.rangeList.ranges.slice(d,v),x=0;x<u.length;x++)this.removeRange(u[x])}n.rangeList.$onChange(e)}var T=this.session;!this.$inChange&&t&&T.getLength()==1&&!T.getValue()&&this.detach()},i.prototype.updateLinkedFields=function(){var e=this.selectedTabstop;if(!(!e||!e.hasLinkedRanges||!e.firstNonLinked)){this.$inChange=!0;for(var t=this.session,a=t.getTextRange(e.firstNonLinked),r=0;r<e.length;r++){var o=e[r];if(o.linked){var c=o.original,n=m.snippetManager.tmStrFormat(a,c,this.editor);t.replace(o,n)}}this.$inChange=!1}},i.prototype.onAfterExec=function(e){e.command&&!e.command.readOnly&&this.updateLinkedFields()},i.prototype.onChangeSelection=function(){if(this.editor){for(var e=this.editor.selection.lead,t=this.editor.selection.anchor,a=this.editor.selection.isEmpty(),r=0;r<this.ranges.length;r++)if(!this.ranges[r].linked){var o=this.ranges[r].contains(e.row,e.column),c=a||this.ranges[r].contains(t.row,t.column);if(o&&c)return}this.detach()}},i.prototype.onChangeSession=function(){this.detach()},i.prototype.tabNext=function(e){var t=this.tabstops.length,a=this.index+(e||1);a=Math.min(Math.max(a,1),t),a==t&&(a=0),this.selectTabstop(a),this.updateTabstopMarkers(),a===0&&this.detach()},i.prototype.selectTabstop=function(e){this.$openTabstops=null;var t=this.tabstops[this.index];if(t&&this.addTabstopMarkers(t),this.index=e,t=this.tabstops[this.index],!(!t||!t.length)){this.selectedTabstop=t;var a=t.firstNonLinked||t;if(t.choices&&(a.cursor=a.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(a);else{var r=this.editor.multiSelect;r.toSingleRange(a);for(var o=0;o<t.length;o++)t.hasLinkedRanges&&t[o].linked||r.addRange(t[o].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},i.prototype.addTabstops=function(e,t,a){var r=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!e[0]){var o=N.fromPoints(a,a);g(o.start,t),g(o.end,t),e[0]=[o],e[0].index=0}var c=this.index,n=[c+1,0],p=this.ranges,s=this.snippetId=(this.snippetId||0)+1;e.forEach(function(d,v){var u=this.$openTabstops[v]||d;u.snippetId=s;for(var x=0;x<d.length;x++){var T=d[x],C=N.fromPoints(T.start,T.end||T.start);h(C.start,t),h(C.end,t),C.original=T,C.tabstop=u,p.push(C),u!=d?u.unshift(C):u[x]=C,T.fmtString||u.firstNonLinked&&r?(C.linked=!0,u.hasLinkedRanges=!0):u.firstNonLinked||(u.firstNonLinked=C)}u.firstNonLinked||(u.hasLinkedRanges=!1),u===d&&(n.push(u),this.$openTabstops[v]=u),this.addTabstopMarkers(u),u.rangeList=u.rangeList||new E,u.rangeList.$bias=0,u.rangeList.addList(u)},this),n.length>2&&(this.tabstops.length&&n.push(n.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,n))},i.prototype.addTabstopMarkers=function(e){var t=this.session;e.forEach(function(a){a.markerId||(a.markerId=t.addMarker(a,"ace_snippet-marker","text"))})},i.prototype.removeTabstopMarkers=function(e){var t=this.session;e.forEach(function(a){t.removeMarker(a.markerId),a.markerId=null})},i.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var e=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&e--,this.tabstops.forEach(function(t){t.snippetId===e?this.addTabstopMarkers(t):this.removeTabstopMarkers(t)},this)}},i.prototype.removeRange=function(e){var t=e.tabstop.indexOf(e);t!=-1&&e.tabstop.splice(t,1),t=this.ranges.indexOf(e),t!=-1&&this.ranges.splice(t,1),t=e.tabstop.rangeList.ranges.indexOf(e),t!=-1&&e.tabstop.splice(t,1),this.session.removeMarker(e.markerId),e.tabstop.length||(t=this.tabstops.indexOf(e.tabstop),t!=-1&&this.tabstops.splice(t,1),this.tabstops.length||this.detach())},i}();f.prototype.keyboardHandler=new O,f.prototype.keyboardHandler.bindKeys({Tab:function(i){m.snippetManager&&m.snippetManager.expandWithTab(i)||(i.tabstopManager.tabNext(1),i.renderer.scrollCursorIntoView())},"Shift-Tab":function(i){i.tabstopManager.tabNext(-1),i.renderer.scrollCursorIntoView()},Esc:function(i){i.tabstopManager.detach()}});var h=function(i,e){i.row==0&&(i.column+=e.column),i.row+=e.row},g=function(i,e){i.row==e.row&&(i.column-=e.column),i.row-=e.row};L.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),m.snippetManager=new F;var M=y("./editor").Editor;(function(){this.insertSnippet=function(i,e){return m.snippetManager.insertSnippet(this,i,e)},this.expandSnippet=function(i){return m.snippetManager.expandWithTab(this,i)}}).call(M.prototype)}),ace.define("ace/ext/emmet",["require","exports","module","ace/keyboard/hash_handler","ace/editor","ace/snippets","ace/range","ace/config","resources","resources","tabStops","resources","utils","actions"],function(y,m,$){var L=y("../keyboard/hash_handler").HashHandler,D=y("../editor").Editor,K=y("../snippets").snippetManager,H=y("../range").Range,N=y("../config"),E,O,U=function(){function l(){}return l.prototype.setupContext=function(f){this.ace=f,this.indentation=f.session.getTabString(),E||(E=window.emmet);var h=E.resources||E.require("resources");h.setVariable("indentation",this.indentation),this.$syntax=null,this.$syntax=this.getSyntax()},l.prototype.getSelectionRange=function(){var f=this.ace.getSelectionRange(),h=this.ace.session.doc;return{start:h.positionToIndex(f.start),end:h.positionToIndex(f.end)}},l.prototype.createSelection=function(f,h){var g=this.ace.session.doc;this.ace.selection.setRange({start:g.indexToPosition(f),end:g.indexToPosition(h)})},l.prototype.getCurrentLineRange=function(){var f=this.ace,h=f.getCursorPosition().row,g=f.session.getLine(h).length,M=f.session.doc.positionToIndex({row:h,column:0});return{start:M,end:M+g}},l.prototype.getCaretPos=function(){var f=this.ace.getCursorPosition();return this.ace.session.doc.positionToIndex(f)},l.prototype.setCaretPos=function(f){var h=this.ace.session.doc.indexToPosition(f);this.ace.selection.moveToPosition(h)},l.prototype.getCurrentLine=function(){var f=this.ace.getCursorPosition().row;return this.ace.session.getLine(f)},l.prototype.replaceContent=function(f,h,g,M){g==null&&(g=h??this.getContent().length),h==null&&(h=0);var i=this.ace,e=i.session.doc,t=H.fromPoints(e.indexToPosition(h),e.indexToPosition(g));i.session.remove(t),t.end=t.start,f=this.$updateTabstops(f),K.insertSnippet(i,f)},l.prototype.getContent=function(){return this.ace.getValue()},l.prototype.getSyntax=function(){if(this.$syntax)return this.$syntax;var f=this.ace.session.$modeId.split("/").pop();if(f=="html"||f=="php"){var h=this.ace.getCursorPosition(),g=this.ace.session.getState(h.row);typeof g!="string"&&(g=g[0]),g&&(g=g.split("-"),g.length>1?f=g[0]:f=="php"&&(f="html"))}return f},l.prototype.getProfileName=function(){var f=E.resources||E.require("resources");switch(this.getSyntax()){case"css":return"css";case"xml":case"xsl":return"xml";case"html":var h=f.getVariable("profile");return h||(h=this.ace.session.getLines(0,2).join("").search(/<!DOCTYPE[^>]+XHTML/i)!=-1?"xhtml":"html"),h;default:var g=this.ace.session.$mode;return g.emmetConfig&&g.emmetConfig.profile||"xhtml"}},l.prototype.prompt=function(f){return prompt(f)},l.prototype.getSelection=function(){return this.ace.session.getTextRange()},l.prototype.getFilePath=function(){return""},l.prototype.$updateTabstops=function(f){var h=1e3,g=0,M=null,i=E.tabStops||E.require("tabStops"),e=E.resources||E.require("resources"),t=e.getVocabulary("user"),a={tabstop:function(o){var c=parseInt(o.group,10),n=c===0;n?c=++g:c+=h;var p=o.placeholder;p&&(p=i.processText(p,a));var s="${"+c+(p?":"+p:"")+"}";return n&&(M=[o.start,s]),s},escape:function(o){return o=="$"?"\\$":o=="\\"?"\\\\":o}};if(f=i.processText(f,a),t.variables.insert_final_tabstop&&!/\$\{0\}$/.test(f))f+="${0}";else if(M){var r=E.utils?E.utils.common:E.require("utils");f=r.replaceSubstring(f,"${0}",M[0],M[1])}return f},l}(),P={expand_abbreviation:{mac:"ctrl+alt+e",win:"alt+e"},match_pair_outward:{mac:"ctrl+d",win:"ctrl+,"},match_pair_inward:{mac:"ctrl+j",win:"ctrl+shift+0"},matching_pair:{mac:"ctrl+alt+j",win:"alt+j"},next_edit_point:"alt+right",prev_edit_point:"alt+left",toggle_comment:{mac:"command+/",win:"ctrl+/"},split_join_tag:{mac:"shift+command+'",win:"shift+ctrl+`"},remove_tag:{mac:"command+'",win:"shift+ctrl+;"},evaluate_math_expression:{mac:"shift+command+y",win:"shift+ctrl+y"},increment_number_by_1:"ctrl+up",decrement_number_by_1:"ctrl+down",increment_number_by_01:"alt+up",decrement_number_by_01:"alt+down",increment_number_by_10:{mac:"alt+command+up",win:"shift+alt+up"},decrement_number_by_10:{mac:"alt+command+down",win:"shift+alt+down"},select_next_item:{mac:"shift+command+.",win:"shift+ctrl+."},select_previous_item:{mac:"shift+command+,",win:"shift+ctrl+,"},reflect_css_value:{mac:"shift+command+r",win:"shift+ctrl+r"},encode_decode_data_url:{mac:"shift+ctrl+d",win:"ctrl+'"},expand_abbreviation_with_tab:"Tab",wrap_with_abbreviation:{mac:"shift+ctrl+a",win:"shift+ctrl+a"}},R=new U;m.commands=new L,m.runEmmetCommand=function l(f){if(this.action=="expand_abbreviation_with_tab"){if(!f.selection.isEmpty())return!1;var h=f.selection.lead,g=f.session.getTokenAt(h.row,h.column);if(g&&/\btag\b/.test(g.type))return!1}try{R.setupContext(f);var M=E.actions||E.require("actions");if(this.action=="wrap_with_abbreviation")return setTimeout(function(){M.run("wrap_with_abbreviation",R)},0);var i=M.run(this.action,R)}catch(t){if(!E){var e=m.load(l.bind(this,f));return this.action=="expand_abbreviation_with_tab"?!1:e}f._signal("changeStatus",typeof t=="string"?t:t.message),N.warn(t),i=!1}return i};for(var S in P)m.commands.addCommand({name:"emmet:"+S,action:S,bindKey:P[S],exec:m.runEmmetCommand,multiSelectAction:"forEach"});m.updateCommands=function(l,f){f?l.keyBinding.addKeyboardHandler(m.commands):l.keyBinding.removeKeyboardHandler(m.commands)},m.isSupportedMode=function(l){if(!l)return!1;if(l.emmetConfig)return!0;var f=l.$id||l;return/css|less|scss|sass|stylus|html|php|twig|ejs|handlebars/.test(f)},m.isAvailable=function(l,f){if(/(evaluate_math_expression|expand_abbreviation)$/.test(f))return!0;var h=l.session.$mode,g=m.isSupportedMode(h);if(g&&h.$modes)try{R.setupContext(l),/js|php/.test(R.getSyntax())&&(g=!1)}catch{}return g};var F=function(l,f){var h=f;if(h){var g=m.isSupportedMode(h.session.$mode);l.enableEmmet===!1&&(g=!1),g&&m.load(),m.updateCommands(h,g)}};m.load=function(l){return typeof O!="string"?(N.warn("script for emmet-core is not loaded"),!1):(N.loadModule(O,function(){O=null,l&&l()}),!0)},m.AceEmmetEditor=U,N.defineOptions(D.prototype,"editor",{enableEmmet:{set:function(l){this[l?"on":"removeListener"]("changeMode",F),F({enableEmmet:!!l},this)},value:!0}}),m.setCore=function(l){typeof l=="string"?O=l:E=l}}),function(){ace.require(["ace/ext/emmet"],function(y){A&&(A.exports=y)})}()}(W)),W.exports}var X=te();const ne=q(X),ie=ee({__proto__:null,default:ne},[X]);export{ie as e};
