import{a0 as B,S as O,T as d,Z as I,_ as U,$ as z}from"./theme-terminal-ylQyTtHj.js";import{S as G}from"./split-D6GStroA.js";import"./ext-split-Bwep5wk0.js";var N={exports:{}},F;function H(){return F||(F=1,function(T){var h=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},b=-1,m=1,u=0;h.Diff=function(e,r){return[e,r]},h.prototype.diff_main=function(e,r,n,i){typeof i>"u"&&(this.Diff_Timeout<=0?i=Number.MAX_VALUE:i=new Date().getTime()+this.Diff_Timeout*1e3);var a=i;if(e==null||r==null)throw new Error("Null input. (diff_main)");if(e==r)return e?[new h.Diff(u,e)]:[];typeof n>"u"&&(n=!0);var t=n,s=this.diff_commonPrefix(e,r),l=e.substring(0,s);e=e.substring(s),r=r.substring(s),s=this.diff_commonSuffix(e,r);var o=e.substring(e.length-s);e=e.substring(0,e.length-s),r=r.substring(0,r.length-s);var g=this.diff_compute_(e,r,t,a);return l&&g.unshift(new h.Diff(u,l)),o&&g.push(new h.Diff(u,o)),this.diff_cleanupMerge(g),g},h.prototype.diff_compute_=function(e,r,n,i){var a;if(!e)return[new h.Diff(m,r)];if(!r)return[new h.Diff(b,e)];var t=e.length>r.length?e:r,s=e.length>r.length?r:e,l=t.indexOf(s);if(l!=-1)return a=[new h.Diff(m,t.substring(0,l)),new h.Diff(u,s),new h.Diff(m,t.substring(l+s.length))],e.length>r.length&&(a[0][0]=a[2][0]=b),a;if(s.length==1)return[new h.Diff(b,e),new h.Diff(m,r)];var o=this.diff_halfMatch_(e,r);if(o){var g=o[0],f=o[1],v=o[2],c=o[3],p=o[4],_=this.diff_main(g,v,n,i),M=this.diff_main(f,c,n,i);return _.concat([new h.Diff(u,p)],M)}return n&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,i):this.diff_bisect_(e,r,i)},h.prototype.diff_lineMode_=function(e,r,n){var i=this.diff_linesToChars_(e,r);e=i.chars1,r=i.chars2;var a=i.lineArray,t=this.diff_main(e,r,!1,n);this.diff_charsToLines_(t,a),this.diff_cleanupSemantic(t),t.push(new h.Diff(u,""));for(var s=0,l=0,o=0,g="",f="";s<t.length;){switch(t[s][0]){case m:o++,f+=t[s][1];break;case b:l++,g+=t[s][1];break;case u:if(l>=1&&o>=1){t.splice(s-l-o,l+o),s=s-l-o;for(var v=this.diff_main(g,f,!1,n),c=v.length-1;c>=0;c--)t.splice(s,0,v[c]);s=s+v.length}o=0,l=0,g="",f="";break}s++}return t.pop(),t},h.prototype.diff_bisect_=function(e,r,n){for(var i=e.length,a=r.length,t=Math.ceil((i+a)/2),s=t,l=2*t,o=new Array(l),g=new Array(l),f=0;f<l;f++)o[f]=-1,g[f]=-1;o[s+1]=0,g[s+1]=0;for(var v=i-a,c=v%2!=0,p=0,_=0,M=0,A=0,w=0;w<t&&!(new Date().getTime()>n);w++){for(var D=-w+p;D<=w-_;D+=2){var S=s+D,E;D==-w||D!=w&&o[S-1]<o[S+1]?E=o[S+1]:E=o[S-1]+1;for(var k=E-D;E<i&&k<a&&e.charAt(E)==r.charAt(k);)E++,k++;if(o[S]=E,E>i)_+=2;else if(k>a)p+=2;else if(c){var y=s+v-D;if(y>=0&&y<l&&g[y]!=-1){var L=i-g[y];if(E>=L)return this.diff_bisectSplit_(e,r,E,k,n)}}}for(var P=-w+M;P<=w-A;P+=2){var y=s+P,L;P==-w||P!=w&&g[y-1]<g[y+1]?L=g[y+1]:L=g[y-1]+1;for(var C=L-P;L<i&&C<a&&e.charAt(i-L-1)==r.charAt(a-C-1);)L++,C++;if(g[y]=L,L>i)A+=2;else if(C>a)M+=2;else if(!c){var S=s+v-P;if(S>=0&&S<l&&o[S]!=-1){var E=o[S],k=s+E-S;if(L=i-L,E>=L)return this.diff_bisectSplit_(e,r,E,k,n)}}}}return[new h.Diff(b,e),new h.Diff(m,r)]},h.prototype.diff_bisectSplit_=function(e,r,n,i,a){var t=e.substring(0,n),s=r.substring(0,i),l=e.substring(n),o=r.substring(i),g=this.diff_main(t,s,!1,a),f=this.diff_main(l,o,!1,a);return g.concat(f)},h.prototype.diff_linesToChars_=function(e,r){var n=[],i={};n[0]="";function a(o){for(var g="",f=0,v=-1,c=n.length;v<o.length-1;){v=o.indexOf(`
`,f),v==-1&&(v=o.length-1);var p=o.substring(f,v+1);(i.hasOwnProperty?i.hasOwnProperty(p):i[p]!==void 0)?g+=String.fromCharCode(i[p]):(c==t&&(p=o.substring(f),v=o.length),g+=String.fromCharCode(c),i[p]=c,n[c++]=p),f=v+1}return g}var t=4e4,s=a(e);t=65535;var l=a(r);return{chars1:s,chars2:l,lineArray:n}},h.prototype.diff_charsToLines_=function(e,r){for(var n=0;n<e.length;n++){for(var i=e[n][1],a=[],t=0;t<i.length;t++)a[t]=r[i.charCodeAt(t)];e[n][1]=a.join("")}},h.prototype.diff_commonPrefix=function(e,r){if(!e||!r||e.charAt(0)!=r.charAt(0))return 0;for(var n=0,i=Math.min(e.length,r.length),a=i,t=0;n<a;)e.substring(t,a)==r.substring(t,a)?(n=a,t=n):i=a,a=Math.floor((i-n)/2+n);return a},h.prototype.diff_commonSuffix=function(e,r){if(!e||!r||e.charAt(e.length-1)!=r.charAt(r.length-1))return 0;for(var n=0,i=Math.min(e.length,r.length),a=i,t=0;n<a;)e.substring(e.length-a,e.length-t)==r.substring(r.length-a,r.length-t)?(n=a,t=n):i=a,a=Math.floor((i-n)/2+n);return a},h.prototype.diff_commonOverlap_=function(e,r){var n=e.length,i=r.length;if(n==0||i==0)return 0;n>i?e=e.substring(n-i):n<i&&(r=r.substring(0,n));var a=Math.min(n,i);if(e==r)return a;for(var t=0,s=1;;){var l=e.substring(a-s),o=r.indexOf(l);if(o==-1)return t;s+=o,(o==0||e.substring(a-s)==r.substring(0,s))&&(t=s,s++)}},h.prototype.diff_halfMatch_=function(e,r){if(this.Diff_Timeout<=0)return null;var n=e.length>r.length?e:r,i=e.length>r.length?r:e;if(n.length<4||i.length*2<n.length)return null;var a=this;function t(_,M,A){for(var w=_.substring(A,A+Math.floor(_.length/4)),D=-1,S="",E,k,y,L;(D=M.indexOf(w,D+1))!=-1;){var P=a.diff_commonPrefix(_.substring(A),M.substring(D)),C=a.diff_commonSuffix(_.substring(0,A),M.substring(0,D));S.length<C+P&&(S=M.substring(D-C,D)+M.substring(D,D+P),E=_.substring(0,A-C),k=_.substring(A+P),y=M.substring(0,D-C),L=M.substring(D+P))}return S.length*2>=_.length?[E,k,y,L,S]:null}var s=t(n,i,Math.ceil(n.length/4)),l=t(n,i,Math.ceil(n.length/2)),o;if(!s&&!l)return null;l?s?o=s[4].length>l[4].length?s:l:o=l:o=s;var g,f,v,c;e.length>r.length?(g=o[0],f=o[1],v=o[2],c=o[3]):(v=o[0],c=o[1],g=o[2],f=o[3]);var p=o[4];return[g,f,v,c,p]},h.prototype.diff_cleanupSemantic=function(e){for(var r=!1,n=[],i=0,a=null,t=0,s=0,l=0,o=0,g=0;t<e.length;)e[t][0]==u?(n[i++]=t,s=o,l=g,o=0,g=0,a=e[t][1]):(e[t][0]==m?o+=e[t][1].length:g+=e[t][1].length,a&&a.length<=Math.max(s,l)&&a.length<=Math.max(o,g)&&(e.splice(n[i-1],0,new h.Diff(b,a)),e[n[i-1]+1][0]=m,i--,i--,t=i>0?n[i-1]:-1,s=0,l=0,o=0,g=0,a=null,r=!0)),t++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),t=1;t<e.length;){if(e[t-1][0]==b&&e[t][0]==m){var f=e[t-1][1],v=e[t][1],c=this.diff_commonOverlap_(f,v),p=this.diff_commonOverlap_(v,f);c>=p?(c>=f.length/2||c>=v.length/2)&&(e.splice(t,0,new h.Diff(u,v.substring(0,c))),e[t-1][1]=f.substring(0,f.length-c),e[t+1][1]=v.substring(c),t++):(p>=f.length/2||p>=v.length/2)&&(e.splice(t,0,new h.Diff(u,f.substring(0,p))),e[t-1][0]=m,e[t-1][1]=v.substring(0,v.length-p),e[t+1][0]=b,e[t+1][1]=f.substring(p),t++),t++}t++}},h.prototype.diff_cleanupSemanticLossless=function(e){function r(p,_){if(!p||!_)return 6;var M=p.charAt(p.length-1),A=_.charAt(0),w=M.match(h.nonAlphaNumericRegex_),D=A.match(h.nonAlphaNumericRegex_),S=w&&M.match(h.whitespaceRegex_),E=D&&A.match(h.whitespaceRegex_),k=S&&M.match(h.linebreakRegex_),y=E&&A.match(h.linebreakRegex_),L=k&&p.match(h.blanklineEndRegex_),P=y&&_.match(h.blanklineStartRegex_);return L||P?5:k||y?4:w&&!S&&E?3:S||E?2:w||D?1:0}for(var n=1;n<e.length-1;){if(e[n-1][0]==u&&e[n+1][0]==u){var i=e[n-1][1],a=e[n][1],t=e[n+1][1],s=this.diff_commonSuffix(i,a);if(s){var l=a.substring(a.length-s);i=i.substring(0,i.length-s),a=l+a.substring(0,a.length-s),t=l+t}for(var o=i,g=a,f=t,v=r(i,a)+r(a,t);a.charAt(0)===t.charAt(0);){i+=a.charAt(0),a=a.substring(1)+t.charAt(0),t=t.substring(1);var c=r(i,a)+r(a,t);c>=v&&(v=c,o=i,g=a,f=t)}e[n-1][1]!=o&&(o?e[n-1][1]=o:(e.splice(n-1,1),n--),e[n][1]=g,f?e[n+1][1]=f:(e.splice(n+1,1),n--))}n++}},h.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,h.whitespaceRegex_=/\s/,h.linebreakRegex_=/[\r\n]/,h.blanklineEndRegex_=/\n\r?\n$/,h.blanklineStartRegex_=/^\r?\n\r?\n/,h.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,n=[],i=0,a=null,t=0,s=!1,l=!1,o=!1,g=!1;t<e.length;)e[t][0]==u?(e[t][1].length<this.Diff_EditCost&&(o||g)?(n[i++]=t,s=o,l=g,a=e[t][1]):(i=0,a=null),o=g=!1):(e[t][0]==b?g=!0:o=!0,a&&(s&&l&&o&&g||a.length<this.Diff_EditCost/2&&s+l+o+g==3)&&(e.splice(n[i-1],0,new h.Diff(b,a)),e[n[i-1]+1][0]=m,i--,a=null,s&&l?(o=g=!0,i=0):(i--,t=i>0?n[i-1]:-1,o=g=!1),r=!0)),t++;r&&this.diff_cleanupMerge(e)},h.prototype.diff_cleanupMerge=function(e){e.push(new h.Diff(u,""));for(var r=0,n=0,i=0,a="",t="",s;r<e.length;)switch(e[r][0]){case m:i++,t+=e[r][1],r++;break;case b:n++,a+=e[r][1],r++;break;case u:n+i>1?(n!==0&&i!==0&&(s=this.diff_commonPrefix(t,a),s!==0&&(r-n-i>0&&e[r-n-i-1][0]==u?e[r-n-i-1][1]+=t.substring(0,s):(e.splice(0,0,new h.Diff(u,t.substring(0,s))),r++),t=t.substring(s),a=a.substring(s)),s=this.diff_commonSuffix(t,a),s!==0&&(e[r][1]=t.substring(t.length-s)+e[r][1],t=t.substring(0,t.length-s),a=a.substring(0,a.length-s))),r-=n+i,e.splice(r,n+i),a.length&&(e.splice(r,0,new h.Diff(b,a)),r++),t.length&&(e.splice(r,0,new h.Diff(m,t)),r++),r++):r!==0&&e[r-1][0]==u?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,i=0,n=0,a="",t="";break}e[e.length-1][1]===""&&e.pop();var l=!1;for(r=1;r<e.length-1;)e[r-1][0]==u&&e[r+1][0]==u&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&this.diff_cleanupMerge(e)},h.prototype.diff_xIndex=function(e,r){var n=0,i=0,a=0,t=0,s;for(s=0;s<e.length&&(e[s][0]!==m&&(n+=e[s][1].length),e[s][0]!==b&&(i+=e[s][1].length),!(n>r));s++)a=n,t=i;return e.length!=s&&e[s][0]===b?t:t+(r-a)},h.prototype.diff_prettyHtml=function(e){for(var r=[],n=/&/g,i=/</g,a=/>/g,t=/\n/g,s=0;s<e.length;s++){var l=e[s][0],o=e[s][1],g=o.replace(n,"&amp;").replace(i,"&lt;").replace(a,"&gt;").replace(t,"&para;<br>");switch(l){case m:r[s]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case b:r[s]='<del style="background:#ffe6e6;">'+g+"</del>";break;case u:r[s]="<span>"+g+"</span>";break}}return r.join("")},h.prototype.diff_text1=function(e){for(var r=[],n=0;n<e.length;n++)e[n][0]!==m&&(r[n]=e[n][1]);return r.join("")},h.prototype.diff_text2=function(e){for(var r=[],n=0;n<e.length;n++)e[n][0]!==b&&(r[n]=e[n][1]);return r.join("")},h.prototype.diff_levenshtein=function(e){for(var r=0,n=0,i=0,a=0;a<e.length;a++){var t=e[a][0],s=e[a][1];switch(t){case m:n+=s.length;break;case b:i+=s.length;break;case u:r+=Math.max(n,i),n=0,i=0;break}}return r+=Math.max(n,i),r},h.prototype.diff_toDelta=function(e){for(var r=[],n=0;n<e.length;n++)switch(e[n][0]){case m:r[n]="+"+encodeURI(e[n][1]);break;case b:r[n]="-"+e[n][1].length;break;case u:r[n]="="+e[n][1].length;break}return r.join("	").replace(/%20/g," ")},h.prototype.diff_fromDelta=function(e,r){for(var n=[],i=0,a=0,t=r.split(/\t/g),s=0;s<t.length;s++){var l=t[s].substring(1);switch(t[s].charAt(0)){case"+":try{n[i++]=new h.Diff(m,decodeURI(l))}catch{throw new Error("Illegal escape in diff_fromDelta: "+l)}break;case"-":case"=":var o=parseInt(l,10);if(isNaN(o)||o<0)throw new Error("Invalid number in diff_fromDelta: "+l);var g=e.substring(a,a+=o);t[s].charAt(0)=="="?n[i++]=new h.Diff(u,g):n[i++]=new h.Diff(b,g);break;default:if(t[s])throw new Error("Invalid diff operation in diff_fromDelta: "+t[s])}}if(a!=e.length)throw new Error("Delta length ("+a+") does not equal source text length ("+e.length+").");return n},h.prototype.match_main=function(e,r,n){if(e==null||r==null||n==null)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==r?0:e.length?e.substring(n,n+r.length)==r?n:this.match_bitap_(e,r,n):-1},h.prototype.match_bitap_=function(e,r,n){if(r.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var i=this.match_alphabet_(r),a=this;function t(E,k){var y=E/r.length,L=Math.abs(n-k);return a.Match_Distance?y+L/a.Match_Distance:L?1:y}var s=this.Match_Threshold,l=e.indexOf(r,n);l!=-1&&(s=Math.min(t(0,l),s),l=e.lastIndexOf(r,n+r.length),l!=-1&&(s=Math.min(t(0,l),s)));var o=1<<r.length-1;l=-1;for(var g,f,v=r.length+e.length,c,p=0;p<r.length;p++){for(g=0,f=v;g<f;)t(p,n+f)<=s?g=f:v=f,f=Math.floor((v-g)/2+g);v=f;var _=Math.max(1,n-f+1),M=Math.min(n+f,e.length)+r.length,A=Array(M+2);A[M+1]=(1<<p)-1;for(var w=M;w>=_;w--){var D=i[e.charAt(w-1)];if(p===0?A[w]=(A[w+1]<<1|1)&D:A[w]=(A[w+1]<<1|1)&D|((c[w+1]|c[w])<<1|1)|c[w+1],A[w]&o){var S=t(p,w-1);if(S<=s)if(s=S,l=w-1,l>n)_=Math.max(1,2*n-l);else break}}if(t(p+1,n)>s)break;c=A}return l},h.prototype.match_alphabet_=function(e){for(var r={},n=0;n<e.length;n++)r[e.charAt(n)]=0;for(var n=0;n<e.length;n++)r[e.charAt(n)]|=1<<e.length-n-1;return r},h.prototype.patch_addContext_=function(e,r){if(r.length!=0){if(e.start2===null)throw Error("patch not initialized");for(var n=r.substring(e.start2,e.start2+e.length1),i=0;r.indexOf(n)!=r.lastIndexOf(n)&&n.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)i+=this.Patch_Margin,n=r.substring(e.start2-i,e.start2+e.length1+i);i+=this.Patch_Margin;var a=r.substring(e.start2-i,e.start2);a&&e.diffs.unshift(new h.Diff(u,a));var t=r.substring(e.start2+e.length1,e.start2+e.length1+i);t&&e.diffs.push(new h.Diff(u,t)),e.start1-=a.length,e.start2-=a.length,e.length1+=a.length+t.length,e.length2+=a.length+t.length}},h.prototype.patch_make=function(e,r,n){var i,a;if(typeof e=="string"&&typeof r=="string"&&typeof n>"u")i=e,a=this.diff_main(i,r,!0),a.length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(e&&typeof e=="object"&&typeof r>"u"&&typeof n>"u")a=e,i=this.diff_text1(a);else if(typeof e=="string"&&r&&typeof r=="object"&&typeof n>"u")i=e,a=r;else if(typeof e=="string"&&typeof r=="string"&&n&&typeof n=="object")i=e,a=n;else throw new Error("Unknown call format to patch_make.");if(a.length===0)return[];for(var t=[],s=new h.patch_obj,l=0,o=0,g=0,f=i,v=i,c=0;c<a.length;c++){var p=a[c][0],_=a[c][1];switch(!l&&p!==u&&(s.start1=o,s.start2=g),p){case m:s.diffs[l++]=a[c],s.length2+=_.length,v=v.substring(0,g)+_+v.substring(g);break;case b:s.length1+=_.length,s.diffs[l++]=a[c],v=v.substring(0,g)+v.substring(g+_.length);break;case u:_.length<=2*this.Patch_Margin&&l&&a.length!=c+1?(s.diffs[l++]=a[c],s.length1+=_.length,s.length2+=_.length):_.length>=2*this.Patch_Margin&&l&&(this.patch_addContext_(s,f),t.push(s),s=new h.patch_obj,l=0,f=v,o=g);break}p!==m&&(o+=_.length),p!==b&&(g+=_.length)}return l&&(this.patch_addContext_(s,f),t.push(s)),t},h.prototype.patch_deepCopy=function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n],a=new h.patch_obj;a.diffs=[];for(var t=0;t<i.diffs.length;t++)a.diffs[t]=new h.Diff(i.diffs[t][0],i.diffs[t][1]);a.start1=i.start1,a.start2=i.start2,a.length1=i.length1,a.length2=i.length2,r[n]=a}return r},h.prototype.patch_apply=function(e,r){if(e.length==0)return[r,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);r=n+r+n,this.patch_splitMax(e);for(var i=0,a=[],t=0;t<e.length;t++){var s=e[t].start2+i,l=this.diff_text1(e[t].diffs),o,g=-1;if(l.length>this.Match_MaxBits?(o=this.match_main(r,l.substring(0,this.Match_MaxBits),s),o!=-1&&(g=this.match_main(r,l.substring(l.length-this.Match_MaxBits),s+l.length-this.Match_MaxBits),(g==-1||o>=g)&&(o=-1))):o=this.match_main(r,l,s),o==-1)a[t]=!1,i-=e[t].length2-e[t].length1;else{a[t]=!0,i=o-s;var f;if(g==-1?f=r.substring(o,o+l.length):f=r.substring(o,g+this.Match_MaxBits),l==f)r=r.substring(0,o)+this.diff_text2(e[t].diffs)+r.substring(o+l.length);else{var v=this.diff_main(l,f,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(v)/l.length>this.Patch_DeleteThreshold)a[t]=!1;else{this.diff_cleanupSemanticLossless(v);for(var c=0,p,_=0;_<e[t].diffs.length;_++){var M=e[t].diffs[_];M[0]!==u&&(p=this.diff_xIndex(v,c)),M[0]===m?r=r.substring(0,o+p)+M[1]+r.substring(o+p):M[0]===b&&(r=r.substring(0,o+p)+r.substring(o+this.diff_xIndex(v,c+M[1].length))),M[0]!==b&&(c+=M[1].length)}}}}}return r=r.substring(n.length,r.length-n.length),[r,a]},h.prototype.patch_addPadding=function(e){for(var r=this.Patch_Margin,n="",i=1;i<=r;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=r,e[i].start2+=r;var a=e[0],t=a.diffs;if(t.length==0||t[0][0]!=u)t.unshift(new h.Diff(u,n)),a.start1-=r,a.start2-=r,a.length1+=r,a.length2+=r;else if(r>t[0][1].length){var s=r-t[0][1].length;t[0][1]=n.substring(t[0][1].length)+t[0][1],a.start1-=s,a.start2-=s,a.length1+=s,a.length2+=s}if(a=e[e.length-1],t=a.diffs,t.length==0||t[t.length-1][0]!=u)t.push(new h.Diff(u,n)),a.length1+=r,a.length2+=r;else if(r>t[t.length-1][1].length){var s=r-t[t.length-1][1].length;t[t.length-1][1]+=n.substring(0,s),a.length1+=s,a.length2+=s}return n},h.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=r)){var i=e[n];e.splice(n--,1);for(var a=i.start1,t=i.start2,s="";i.diffs.length!==0;){var l=new h.patch_obj,o=!0;for(l.start1=a-s.length,l.start2=t-s.length,s!==""&&(l.length1=l.length2=s.length,l.diffs.push(new h.Diff(u,s)));i.diffs.length!==0&&l.length1<r-this.Patch_Margin;){var g=i.diffs[0][0],f=i.diffs[0][1];g===m?(l.length2+=f.length,t+=f.length,l.diffs.push(i.diffs.shift()),o=!1):g===b&&l.diffs.length==1&&l.diffs[0][0]==u&&f.length>2*r?(l.length1+=f.length,a+=f.length,o=!1,l.diffs.push(new h.Diff(g,f)),i.diffs.shift()):(f=f.substring(0,r-l.length1-this.Patch_Margin),l.length1+=f.length,a+=f.length,g===u?(l.length2+=f.length,t+=f.length):o=!1,l.diffs.push(new h.Diff(g,f)),f==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(f.length))}s=this.diff_text2(l.diffs),s=s.substring(s.length-this.Patch_Margin);var v=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);v!==""&&(l.length1+=v.length,l.length2+=v.length,l.diffs.length!==0&&l.diffs[l.diffs.length-1][0]===u?l.diffs[l.diffs.length-1][1]+=v:l.diffs.push(new h.Diff(u,v))),o||e.splice(++n,0,l)}}},h.prototype.patch_toText=function(e){for(var r=[],n=0;n<e.length;n++)r[n]=e[n];return r.join("")},h.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var n=e.split(`
`),i=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var t=n[i].match(a);if(!t)throw new Error("Invalid patch string: "+n[i]);var s=new h.patch_obj;for(r.push(s),s.start1=parseInt(t[1],10),t[2]===""?(s.start1--,s.length1=1):t[2]=="0"?s.length1=0:(s.start1--,s.length1=parseInt(t[2],10)),s.start2=parseInt(t[3],10),t[4]===""?(s.start2--,s.length2=1):t[4]=="0"?s.length2=0:(s.start2--,s.length2=parseInt(t[4],10)),i++;i<n.length;){var l=n[i].charAt(0);try{var o=decodeURI(n[i].substring(1))}catch{throw new Error("Illegal escape in patch_fromText: "+o)}if(l=="-")s.diffs.push(new h.Diff(b,o));else if(l=="+")s.diffs.push(new h.Diff(m,o));else if(l==" ")s.diffs.push(new h.Diff(u,o));else{if(l=="@")break;if(l!=="")throw new Error('Invalid patch mode "'+l+'" in: '+o)}i++}}return r},h.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},h.patch_obj.prototype.toString=function(){var e,r;this.length1===0?e=this.start1+",0":this.length1==1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?r=this.start2+",0":this.length2==1?r=this.start2+1:r=this.start2+1+","+this.length2;for(var n=["@@ -"+e+" +"+r+` @@
`],i,a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case m:i="+";break;case b:i="-";break;case u:i=" ";break}n[a+1]=i+encodeURI(this.diffs[a][1])+`
`}return n.join("").replace(/%20/g," ")},T.exports=h,T.exports.diff_match_patch=h,T.exports.DIFF_DELETE=b,T.exports.DIFF_INSERT=m,T.exports.DIFF_EQUAL=u}(N)),N.exports}var Q=H();const $=B(Q),R=class R extends O.Component{constructor(h){super(h),this.state={value:this.props.value},this.onChange=this.onChange.bind(this),this.diff=this.diff.bind(this)}componentDidUpdate(){const{value:h}=this.props;h!==this.state.value&&this.setState({value:h})}onChange(h){this.setState({value:h}),this.props.onChange&&this.props.onChange(h)}diff(){const h=new $,b=this.state.value[0],m=this.state.value[1];if(b.length===0&&m.length===0)return[];const u=h.diff_main(b,m);h.diff_cleanupSemantic(u);const e=this.generateDiffedLines(u);return this.setCodeMarkers(e)}generateDiffedLines(h){const b={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},m={left:[],right:[]},u={left:1,right:1};return h.forEach(e=>{const r=e[0],n=e[1];let i=n.split(`
`).length-1;if(n.length===0)return;const a=n[0],t=n[n.length-1];let s=0;switch(r){case b.DIFF_EQUAL:u.left+=i,u.right+=i;break;case b.DIFF_DELETE:a===`
`&&(u.left++,i--),s=i,s===0&&m.right.push({startLine:u.right,endLine:u.right}),t===`
`&&(s-=1),m.left.push({startLine:u.left,endLine:u.left+s}),u.left+=i;break;case b.DIFF_INSERT:a===`
`&&(u.right++,i--),s=i,s===0&&m.left.push({startLine:u.left,endLine:u.left}),t===`
`&&(s-=1),m.right.push({startLine:u.right,endLine:u.right+s}),u.right+=i;break;default:throw new Error("Diff type was not defined.")}}),m}setCodeMarkers(h={left:[],right:[]}){const b=[],m={left:[],right:[]};for(let u=0;u<h.left.length;u++){const e={startRow:h.left[u].startLine-1,endRow:h.left[u].endLine,type:"text",className:"codeMarker"};m.left.push(e)}for(let u=0;u<h.right.length;u++){const e={startRow:h.right[u].startLine-1,endRow:h.right[u].endLine,type:"text",className:"codeMarker"};m.right.push(e)}return b[0]=m.left,b[1]=m.right,b}render(){const h=this.diff();return I.jsx(G,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:h})}};R.propTypes={cursorStart:d.number,editorProps:d.object,enableBasicAutocompletion:d.bool,enableLiveAutocompletion:d.bool,focus:d.bool,fontSize:d.number,height:d.string,highlightActiveLine:d.bool,maxLines:d.number,minLines:d.number,mode:d.string,name:d.string,className:d.string,onLoad:d.func,onPaste:d.func,onScroll:d.func,onChange:d.func,orientation:d.string,readOnly:d.bool,scrollMargin:d.array,setOptions:d.object,showGutter:d.bool,showPrintMargin:d.bool,splits:d.number,style:d.object,tabSize:d.number,theme:d.string,value:d.array,width:d.string,wrapEnabled:d.bool},R.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0};let j=R;const V=[`// Use this tool to display differences in code.
// Deletions will be highlighted on the left, insertions highlighted on the right.`,`// Use this too to show difference in code.
// Deletions will be highlighted on the left, insertions highlighted on the right.
// The diff highlighting style can be altered in CSS.
`],Z=["javascript","java","python","xml","ruby","sass","markdown","mysql","json","html","handlebars","golang","csharp","elixir","typescript","css"];class W extends O.Component{constructor(h){super(h),this.state={value:V,fontSize:14,markers:{},mode:"javascript"},this.onChange=this.onChange.bind(this),this.setMode=this.setMode.bind(this)}onChange(h){this.setState({value:h})}setMode(h){this.setState({mode:h.target.value})}render(){return I.jsxs("div",{className:"columns",children:[I.jsxs("div",{className:"column",children:[I.jsxs("div",{className:"field",children:[I.jsx("label",{children:"Mode:"}),I.jsx("p",{className:"control",children:I.jsx("span",{className:"select",children:I.jsx("select",{name:"mode",onChange:this.setMode,value:this.state.mode,children:Z.map(h=>I.jsx("option",{value:h,children:h},h))})})})]}),I.jsx("div",{className:"field"})]}),I.jsxs("div",{className:"examples column",children:[I.jsx("h2",{children:"Editor"}),I.jsx(j,{value:this.state.value,height:"1000px",width:"1000px",setOptions:{useWorker:!1},mode:this.state.mode,onChange:this.onChange})]})]})}}const X=U.createRoot(document.getElementById("example"));X.render(z.createElement(W));
